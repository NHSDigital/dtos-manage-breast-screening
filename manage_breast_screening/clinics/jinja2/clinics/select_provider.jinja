{% extends 'layout-app.jinja' %}

{% from 'nhsuk/components/button/macro.jinja' import button %}
{% from 'nhsuk/components/radios/macro.jinja' import radios %}

{% block page_content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">
    {% if providers|length == 0 %}
      <h1>Your account is not recognised</h1>

      <p> This may be because your breast screening office:</p>

      <ul class="nhsuk-list nhsuk-list--bullet">
        <li>has not registered you as a user, or</li>
        <li>is not set up to use this service</li>
      </ul>

      <p>
        Check if you are using the correct login, then find out from your programme manager if you should be able to access this service.
      </p>

      <p>
        <a href="#">Contact us</a> if you are unable to resolve the issue.
      </p>
    {% else %}
      <form method="post">
        {{ csrf_input }}
        {% if next %}
          <input type="hidden" name="next" value="{{ next }}">
        {% endif %}
        {% set radioItems = [] %}
        {% for provider in providers %}
          {% do radioItems.append({
            "value": provider.pk|string,
            "text": provider.name
          }) %}
        {% endfor %}

        {{ radios({
          "idPrefix": "provider",
          "name": "provider",
          "fieldset": {
            "legend": {
              "text": "Select your provider",
              "classes": "nhsuk-fieldset__legend--m"
            }
          },
          "items": radioItems
        }) }}

        {{ button({
          "text": "Continue"
        }) }}
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
