{% extends 'layout-app.jinja' %}

{% from 'nhsuk/components/button/macro.jinja' import button %}
{% from 'nhsuk/components/radios/macro.jinja' import radios %}

{% block content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">
    {% if providers|length == 0 %}
      <p>No providers found. Check that you've been assigned a role with at least one provider.</p>
    {% else %}
      <form method="post">
        {{ csrf_input }}
        {% if next %}
          <input type="hidden" name="next" value="{{ next }}">
        {% endif %}
        {% set radioItems = [] %}
        {% for provider in providers %}
          {% do radioItems.append({
            "value": provider.pk|string,
            "text": provider.name
          }) %}
        {% endfor %}

        {{ radios({
          "idPrefix": "provider",
          "name": "provider",
          "fieldset": {
            "legend": {
              "text": "Select your provider",
              "classes": "nhsuk-fieldset__legend--m"
            }
          },
          "items": radioItems
        }) }}

        {{ button({
          "text": "Continue"
        }) }}
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
