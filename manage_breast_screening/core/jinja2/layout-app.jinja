{% from 'nhsuk/components/header/macro.jinja' import header %}
{% set assetPath = STATIC_URL ~ "/assets" %}
{% extends "nhsuk/template.jinja" %}

{% block head %}
  <link rel="stylesheet" href="{{ static('css/main.css' )}}">
{% endblock %}

{% block pageTitle %}{% if form and form.errors %}Error: {% endif %}{% if page_title %}{{page_title}} – {% endif %}Manage breast screening – NHS{% endblock %}

{% block header %}
  {% set account_items = [] %}
  {% if request.user.is_authenticated %}
    {% do account_items.append({
      "text": request.user.first_name ~ ' ' ~ request.user.last_name,
      "icon": true
    }) %}
  {% endif %}

  {% do account_items.append({
      "href": url('auth:logout') if request and request.user.is_authenticated else url('auth:login'),
      "text": "Log out" if request and request.user.is_authenticated else "Log in",
  }) %}

  {{ header({
    "service": {
      "name": "Manage breast screening"
    },
    "account": {
      "items": account_items
    },
    "navigation": {
      "items": [
        {
          "href": "/",
          "text": "Home",
          "current": true if navActive == "home"
        },
        {
          "href": "/clinics/",
          "text": "Clinics",
          'current': true if navActive == "clinics"
        }
      ]
    }
  }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">
      {% block messages %}
        {#- TODO: show messages from django.contrib.messages -#}
      {% endblock messages %}
    </div>
  </div>

  {% block page_content %}
  {% endblock page_content %}
{% endblock content %}

{% block bodyEnd %}
  <script type="module" src="{{ static('js/bundle.js' )}}"></script>
{% endblock %}}
